<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>
  <head>
    <title>Generating Documentation</title>
  </head>

  <body bgcolor=#FFFFFF>
    <h3>Generating Documentation</h3>

The Opal Compilation System contains support for generating documentation
in either HTML or DVI format from the source code. The <A
href="DosfopManual.html">full documentation</a> gives details for the
operation of the documentation system DOSFOP. This document gives a short
introduction into the usage of the documentation system.

<h4>Adding Documentation to the Source Code</h4>

Documentation is included in the form of special comments. Every comment
which starts with a percent (<code>`%'</code>) sign is treated as a comment.

Source code is written in Texinfo (the same language which is used for the
documentation of many GNU tools, e.g. emacs, gcc, ...). The most important
Texinfo commands are:

<ul>
<li><code>@@, @{, @}</code> The only special characters are <code>`@'</code>
(at sign), <code>`{'</code> and <code>`}'</code> (curly braces) which must be
preceded by <code>@</code> (at sign). All other characters are included
literally.
<li><code>@code{</code><i>text</i><code>}</code> is used for references to
identifiers from the source code.
<li><code>@emph{</code><i>text</i><code>}</code> is used to emphasize text.
<li><code>@ref{@Overview{</code><i>structure name</i><code>}}</code> inserts 
a (hyper-)link to the documentation of <i>structure name</i>.
</ul>

<h4>Generating Documentation with ocs (<img src="new.gif" alt="new"> in 2.3b)</h4>

The <code>ocs</code> command knows several targets for generating
documentation. Some preparation is necessary, though:

<ul>
<li> If you have used the <code>ocs -top</code> or <code>ocs -sub</code>
command, create a link from the generated SysDefs file to a file just named
`<tt>SysDefs</tt>' 
<li> Define an environment variable <code>PROJECTROOT</code> which contains
the absolute path to the directory where the Opal sources are located.
</ul>

Then use one of
<ul>
<li><code>ocs doc</code> to generate HTML documentation
<li><code>ocs dvi</code> to generate DVI documentation
</ul>

The result is placed in <code>doc/out.html</code> or <code>doc/out.dvi</code>.

<table border=1 width=100%>
<tr><td witdh=50%>
<i>If you use bash, type</i>
<pre>
-> export PROJECTROOT=$PWD
-> ocs doc
</pre>
</td><td width=50%>
<i>If you use csh or tcsh, type</i>
<pre>
-> setenv PROJECTROOT $PWD
-> ocs doc
</pre>
</td></tr>
</table>

    <hr>
    <address><a href="mailto:opal@cs.tu-berlin.de">The Opal Group</a></address>
<!-- Created: Mon Sep 14 20:11:10 MEST 1998 -->
<!-- hhmts start -->
Last modified: Tue Nov 17 13:08:40 MET 1998
<!-- hhmts end -->
  </body>
</html>
